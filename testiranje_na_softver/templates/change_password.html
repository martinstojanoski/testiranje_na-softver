{% extends "base.html" %}
{% block title %}Change Password{% endblock %}

{% block content %}
<style>
    body { background:#121212; color:#fff; font-family:Arial,sans-serif; }

    .box{
        max-width: 420px;
        margin: 80px auto;
        background:#1e1e1e;
        padding: 32px;
        border-radius: 18px;
        box-shadow: 0 8px 22px rgba(0,0,0,0.6);
    }
    h2{ margin:0 0 18px 0; text-align:center; color:#f5f5f5; }

    label{ display:block; margin:12px 0 6px; font-weight:bold; color:#e0e0e0; }
    input{
        width:100%; padding:12px; border:none; border-radius:8px;
        background:#2a2a2a; color:#fff;
    }
    input:focus{ outline:none; box-shadow:0 0 6px #6200ea; background:#333; }

    .btn{
        width:100%; margin-top:18px;
        padding:14px; border:none; border-radius:8px;
        background:#6200ea; color:#fff; font-size:16px;
        cursor:pointer; transition:.25s;
    }
    .btn:hover{ background:#7c4dff; transform:translateY(-1px); }

    .back{ margin-top:16px; text-align:center; }
    .back a{ color:#bb86fc; text-decoration:none; }
</style>

<div class="box">
    <h2>Change Password</h2>
    <p style="text-align:center; color:#bbb; margin-top:-8px;">
        User: <b>{{ u.username }}</b>
    </p>

    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            {% for category, msg in messages %}
                <div class="flash {{ category }}">{{ msg }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST">
        <label>New Password</label>
        <input type="password" name="new_password" required>

        <label>Confirm Password</label>
        <input type="password" name="confirm_password" required>

        <button class="btn" type="submit">Update Password</button>
    </form>

    <div class="back">
        <a href="{{ url_for('admin_users') }}">‚Üê Back to Users</a>
    </div>
</div>

{% endblock %}
