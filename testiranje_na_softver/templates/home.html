{% extends "base.html" %}
{% block title %}HOTEL BUFF | Home{% endblock %}

{% block content %}
<style>
  :root{
    --bg:#070708;
    --glass: rgba(20,20,22,.56);
    --glass2: rgba(20,20,22,.42);
    --stroke: rgba(255,215,0,.18);
    --stroke2: rgba(255,255,255,.10);
    --gold:#ffd700;
    --gold2:#c9a200;
    --text:#f2f2f2;
    --muted:#b9b9b9;
    --ok:#4dff8b;
    --danger:#ff4d4d;
    --vio:#bb86fc;
    --shadow: 0 26px 70px rgba(0,0,0,.86);
    --shadow2: 0 18px 45px rgba(0,0,0,.70);
  }

  body{
    background:
      radial-gradient(900px 520px at 20% 0%, rgba(255,215,0,.10), transparent 60%),
      radial-gradient(700px 420px at 80% 15%, rgba(187,134,252,.11), transparent 55%),
      radial-gradient(circle at top, #171717, #0b0b0c 55%, #070708);
    color: var(--text);
    font-family: "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
    overflow-x:hidden;
  }

  /* cinematic grain */
  .grain{
    position:fixed; inset:0; z-index:0; pointer-events:none;
    opacity:.06;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
  }

  /* particles */
  .bg-particles{ position: fixed; inset:0; pointer-events:none; z-index:0; opacity:.55; }
  .p{
    position:absolute; width:6px; height:6px; border-radius:999px;
    background: radial-gradient(circle, rgba(255,215,0,.9), rgba(255,215,0,.05));
    animation: float 10s ease-in-out infinite;
    filter: blur(.15px);
  }
  .p:nth-child(1){ left:10%; top:18%; animation-duration:10s; transform: scale(.8); }
  .p:nth-child(2){ left:22%; top:74%; animation-duration:11s; transform: scale(.6); }
  .p:nth-child(3){ left:62%; top:16%; animation-duration:12s; transform: scale(.7); }
  .p:nth-child(4){ left:86%; top:60%; animation-duration:13s; transform: scale(.9); }
  .p:nth-child(5){ left:50%; top:82%; animation-duration:14s; transform: scale(.55); }
  @keyframes float{
    0%,100%{ transform: translateY(0) translateX(0); opacity:.55; }
    50%{ transform: translateY(-18px) translateX(10px); opacity:.9; }
  }

  .page{
    position: relative; z-index:1;
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 14px 76px;
  }

  /* topbar */
  .topbar{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    margin-bottom: 14px;
  }
  .crumb{
    display:inline-flex; align-items:center; gap:10px;
    padding:10px 12px;
    border-radius:999px;
    border: 1px solid rgba(255,215,0,.16);
    background: rgba(0,0,0,.20);
    color:#eaeaea;
    font-size: 13px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .crumb b{ color: var(--gold); }

  /* flash */
  .flash{
    padding: 12px;
    margin: 0 0 14px;
    border-radius: 14px;
    font-size: 14px;
    text-align:center;
    border-left: 4px solid transparent;
    background: rgba(255,255,255,.04);
  }
  .flash.success{ border-left-color: var(--ok); color:#d8ffe5; background: rgba(30,95,43,.35); }
  .flash.error{ border-left-color: var(--danger); color:#ffd0d0; background: rgba(59,29,29,.55); }
  .flash.info{ border-left-color: var(--vio); color:#e5d4ff; background: rgba(43,29,59,.55); }

  /* hero layout */
  .hero{
    display:grid;
    grid-template-columns: 1.35fr .65fr;
    gap: 16px;
    align-items: stretch;
  }

  /* Ultra frame wrapper like Login/Register */
  .frame{
    border-radius: 30px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(255,215,0,.38), rgba(187,134,252,.24), rgba(255,255,255,.10));
    box-shadow: var(--shadow);
    position: relative;
    overflow:hidden;
    transform-style: preserve-3d;
    animation: inUp 650ms ease both;
  }
  .frame::before{
    content:"";
    position:absolute;
    inset:-90px;
    background: conic-gradient(from 180deg,
      rgba(255,215,0,.0),
      rgba(255,215,0,.35),
      rgba(187,134,252,.28),
      rgba(255,255,255,.12),
      rgba(255,215,0,.0)
    );
    filter: blur(26px);
    opacity:.55;
    animation: orbit 7.6s linear infinite;
    pointer-events:none;
  }
  @keyframes orbit{ to{ transform: rotate(360deg); } }

  .hero-card{
    border-radius: 30px;
    background: var(--glass);
    border: 1px solid rgba(255,255,255,.06);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 28px;
    position: relative;
    overflow:hidden;
  }

  /* hero cover image panel */
  .hero-cover{
    height: 170px;
    border-radius: 22px;
    border: 1px solid rgba(255,255,255,.08);
    background:
      linear-gradient(120deg, rgba(255,215,0,.12), rgba(187,134,252,.10), rgba(255,255,255,.04)),
      radial-gradient(800px 220px at 20% 0%, rgba(255,215,0,.18), transparent 60%),
      radial-gradient(700px 240px at 80% 10%, rgba(187,134,252,.16), transparent 55%),
      linear-gradient(145deg, rgba(0,0,0,.25), rgba(0,0,0,.45));
    box-shadow: 0 16px 40px rgba(0,0,0,.55);
    position: relative;
    overflow:hidden;
    margin-bottom: 18px;
  }
  .hero-cover::after{
    content:"";
    position:absolute;
    inset:-60px -160px auto auto;
    width: 360px; height: 360px;
    background: linear-gradient(120deg, transparent 35%, rgba(255,215,0,.12) 50%, transparent 65%);
    transform: translateX(-30%) rotate(12deg);
    opacity:.55;
    animation: sweep 3.9s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes sweep{
    0%{ transform: translateX(-40%) rotate(12deg); opacity:.22; }
    45%{ opacity:.85; }
    100%{ transform: translateX(40%) rotate(12deg); opacity:.22; }
  }

  .cover-row{
    position:absolute;
    inset:auto 18px 18px 18px;
    display:flex;
    align-items:flex-end;
    justify-content:space-between;
    gap: 12px;
  }
  .cover-chip{
    display:inline-flex;
    align-items:center;
    gap: 8px;
    padding: 9px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255,215,0,.18);
    background: rgba(0,0,0,.26);
    color:#eaeaea;
    font-size: 13px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .cover-chip b{ color: var(--gold); }

  .brand{
    display:flex; align-items:center; gap:14px;
    margin-bottom: 8px;
  }
  .logo-box{
    width: 74px; height: 74px;
    border-radius: 22px;
    background: rgba(0,0,0,.25);
    border: 1px solid rgba(255,215,0,.22);
    display:flex; align-items:center; justify-content:center;
    overflow:hidden;
    position: relative;
    animation: pop 850ms ease-out both;
  }
  .logo-box img{ width: 56px; height:auto; }
  .logo-box::after{
    content:"";
    position:absolute;
    inset:-44px;
    background: linear-gradient(120deg, transparent 35%, rgba(255,215,0,.26) 50%, transparent 65%);
    transform: translateX(-60%) rotate(10deg);
    animation: shine 2.7s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes shine{
    0%{ transform: translateX(-75%) rotate(10deg); opacity:.22; }
    35%{ opacity:.92; }
    100%{ transform: translateX(75%) rotate(10deg); opacity:.22; }
  }
  @keyframes pop{
    0%{ transform: scale(.75); opacity:0; }
    70%{ transform: scale(1.06); opacity:1; }
    100%{ transform: scale(1); }
  }

  .hero-title{
    margin:0;
    color: var(--gold);
    letter-spacing: 1px;
    font-size: 32px;
    line-height: 1.08;
  }
  .hero-sub{
    margin: 10px 0 0;
    color: var(--muted);
    font-size: 14.5px;
    line-height: 1.6;
    max-width: 72ch;
  }

  .who{
    margin-top: 12px;
    display:inline-flex;
    align-items:center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255,215,0,.16);
    background: rgba(0,0,0,.22);
    color:#eaeaea;
    font-size: 13px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .who b{ color: var(--gold); }

  .cta-row{
    display:flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 18px;
  }
  .btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap: 10px;
    padding: 13px 16px;
    border-radius: 16px;
    text-decoration:none;
    font-weight: 950;
    letter-spacing: .55px;
    border: 1px solid transparent;
    transition: .25s;
    cursor:pointer;
    user-select:none;
    white-space:nowrap;
  }
  .btn.primary{
    background: linear-gradient(135deg, var(--gold), var(--gold2));
    color:#151515;
    box-shadow: 0 14px 34px rgba(255,215,0,.22);
  }
  .btn.primary:hover{
    transform: translateY(-2px);
    box-shadow: 0 18px 44px rgba(255,215,0,.30);
    background: linear-gradient(135deg, #ffe44d, #d4b200);
  }
  .btn.secondary{
    background: rgba(0,0,0,.22);
    color: var(--text);
    border: 1px solid rgba(255,215,0,.18);
  }
  .btn.secondary:hover{
    transform: translateY(-2px);
    border-color: rgba(255,215,0,.35);
    box-shadow: 0 16px 34px rgba(0,0,0,.40);
  }

  /* stats */
  .stats{
    margin-top: 16px;
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
  }
  .stat{
    border-radius: 18px;
    background: rgba(0,0,0,.20);
    border: 1px solid rgba(255,255,255,.10);
    padding: 14px 14px;
    transition: .22s;
    position: relative;
    overflow:hidden;
  }
  .stat:hover{ transform: translateY(-2px); border-color: rgba(255,215,0,.22); }
  .stat small{ display:block; color: var(--muted); font-size: 12.5px; }
  .stat b{ display:block; font-size: 18px; margin-top: 6px; color: #fff; letter-spacing:.3px; }
  .stat .glow{
    position:absolute; inset:-60px auto auto -80px; width: 220px; height: 220px;
    background: radial-gradient(circle, rgba(255,215,0,.10), transparent 60%);
    pointer-events:none;
  }

  /* right side panel */
  .side{
    border-radius: 30px;
    background: var(--glass2);
    border: 1px solid rgba(255,215,0,.14);
    box-shadow: var(--shadow2);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 26px 22px;
    animation: inUp 820ms ease both;
    position: relative;
    overflow:hidden;
  }
  .side::before{
    content:"";
    position:absolute;
    inset:-90px -140px auto auto;
    width: 300px; height: 300px;
    background: radial-gradient(circle, rgba(187,134,252,.14), transparent 62%);
    pointer-events:none;
  }
  .chip{
    display:inline-flex;
    align-items:center;
    gap: 8px;
    padding: 9px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255,215,0,.18);
    background: rgba(0,0,0,.22);
    color: #eaeaea;
    font-size: 13px;
    margin-bottom: 12px;
  }
  .side h3{
    margin: 0 0 10px;
    color: #f6f6f6;
    font-size: 16px;
    letter-spacing: .4px;
  }
  .side p{
    margin: 0 0 14px;
    color: var(--muted);
    font-size: 13.5px;
    line-height: 1.55;
  }

  .mini-actions{ display:grid; grid-template-columns: 1fr; gap: 10px; }
  .mini{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 12px;
    padding: 12px 14px;
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(0,0,0,.22);
    text-decoration:none;
    color: var(--text);
    transition:.22s;
  }
  .mini:hover{
    transform: translateY(-2px);
    border-color: rgba(255,215,0,.25);
    box-shadow: 0 16px 34px rgba(0,0,0,.40);
  }
  .mini strong{ display:block; font-size: 14px; color: #fff; }
  .mini span{ display:block; font-size: 12.5px; color: var(--muted); margin-top: 2px; }
  .mini .ico{
    width: 40px; height: 40px;
    border-radius: 16px;
    border: 1px solid rgba(255,215,0,.18);
    background: rgba(255,215,0,.08);
    display:flex;
    align-items:center;
    justify-content:center;
    color: var(--gold);
    flex: 0 0 auto;
  }

  /* sections */
  .section{ margin-top: 18px; animation: inUp 900ms ease both; }
  .section-title{
    margin: 24px 0 12px;
    font-size: 16px;
    color: #f6f6f6;
    letter-spacing: .5px;
  }
  .grid{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
  }
  .cardx{
    border-radius: 24px;
    background: rgba(20,20,22,.52);
    border: 1px solid rgba(255,255,255,.10);
    box-shadow: 0 18px 45px rgba(0,0,0,.62);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 18px 16px;
    transition: .22s;
    position: relative;
    overflow:hidden;
  }
  .cardx:hover{ transform: translateY(-3px); border-color: rgba(255,215,0,.22); }
  .cardx .top{ display:flex; align-items:center; gap: 10px; margin-bottom: 10px; }
  .badge{
    width: 46px; height: 46px;
    border-radius: 18px;
    border: 1px solid rgba(255,215,0,.18);
    background: rgba(255,215,0,.08);
    display:flex; align-items:center; justify-content:center;
    color: var(--gold);
    flex: 0 0 auto;
  }
  .cardx h4{ margin: 0; font-size: 14.5px; letter-spacing: .3px; color: #fff; }
  .cardx p{ margin: 8px 0 0; color: var(--muted); font-size: 13px; line-height: 1.6; }

  @keyframes inUp{ from{ opacity:0; transform: translateY(16px);} to{ opacity:1; transform: translateY(0);} }

  @media (max-width: 980px){
    .hero{ grid-template-columns: 1fr; }
    .stats{ grid-template-columns: 1fr; }
    .grid{ grid-template-columns: 1fr; }
  }
</style>

<div class="grain" aria-hidden="true"></div>
<div class="bg-particles" aria-hidden="true">
  <span class="p"></span><span class="p"></span><span class="p"></span><span class="p"></span><span class="p"></span>
</div>

<div class="page">

  <div class="topbar">
    <div class="crumb">üè® <b>HOTEL BUFF</b> ‚Ä¢ Home</div>
    {% if session.get('role') == 'admin' %}
      <div class="crumb">üõ°Ô∏è Role: <b>Admin</b></div>
    {% else %}
      <div class="crumb">üë§ Role: <b>User</b></div>
    {% endif %}
  </div>

  {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
      {% for category, msg in messages %}
        <div class="flash {{ category }}">{{ msg }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <div class="hero">

    <!-- LEFT HERO (Ultra Frame + Cover) -->
    <section class="frame" id="tiltHero">
      <div class="hero-card">

        <div class="hero-cover">
          <div class="cover-row">
            <div class="cover-chip">‚≠ê <b>Ultra Premium</b> Suite UI</div>
            <div class="cover-chip">‚ö° Fast booking ‚Ä¢ üîê Secure</div>
          </div>
        </div>

        <div class="brand">
          <div class="logo-box">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="HOTEL BUFF">
          </div>
          <div>
            <h1 class="hero-title">Welcome to HOTEL BUFF</h1>
            <div class="hero-sub">
              Premium comfort, modern design, and effortless booking ‚Äî with a clean admin system and secure access.
            </div>

            {% if user %}
              <div class="who">Signed in as <b>{{ user }}</b></div>
            {% endif %}
          </div>
        </div>

        <div class="cta-row">
          <a class="btn primary" href="{{ url_for('booking') }}">üõéÔ∏è Book Now</a>
          <a class="btn secondary" href="{{ url_for('booking_status') }}">üìÑ Booking Status</a>
          <a class="btn secondary" href="{{ url_for('contact') }}">‚úâÔ∏è Contact</a>

          {% if session.get('role') == 'admin' %}
            <a class="btn secondary" href="{{ url_for('admin_bookings') }}">üìã Admin Bookings</a>
            <a class="btn secondary" href="{{ url_for('admin_users') }}">üë§ Admin Users</a>
          {% endif %}
        </div>

        <div class="stats">
          <div class="stat"><span class="glow"></span><small>Experience</small><b>Suite UI</b></div>
          <div class="stat"><span class="glow"></span><small>Flow</small><b>Fast Booking</b></div>
          <div class="stat"><span class="glow"></span><small>Security</small><b>Role-Based</b></div>
        </div>

      </div>
    </section>

    <!-- RIGHT SIDE -->
    <aside class="side">
      <div class="chip">‚≠ê Premium Dashboard</div>
      <h3>Quick Actions</h3>
      <p>Everything you need in one place ‚Äî booking, tracking, gallery, and admin tools (if enabled).</p>

      <div class="mini-actions">
        <a class="mini" href="{{ url_for('images') }}">
          <div><strong>Gallery</strong><span>Rooms & atmosphere</span></div>
          <div class="ico">üñºÔ∏è</div>
        </a>

        <a class="mini" href="{{ url_for('contact') }}">
          <div><strong>Support</strong><span>Send a message anytime</span></div>
          <div class="ico">‚úâÔ∏è</div>
        </a>

        <a class="mini" href="{{ url_for('booking_status') }}">
          <div><strong>Check Reservation</strong><span>Lookup by email</span></div>
          <div class="ico">üìÑ</div>
        </a>

        {% if session.get('role') == 'admin' %}
        <a class="mini" href="{{ url_for('admin_users') }}">
          <div><strong>User Management</strong><span>Edit roles & passwords</span></div>
          <div class="ico">üõ°Ô∏è</div>
        </a>
        {% endif %}
      </div>
    </aside>

  </div>

  <section class="section">
    <div class="section-title">Why HOTEL BUFF?</div>
    <div class="grid">
      <div class="cardx">
        <div class="top"><div class="badge">üëë</div><h4>Luxury Feel</h4></div>
        <p>Consistent black & gold identity with glassmorphism, premium lighting, and subtle motion.</p>
      </div>

      <div class="cardx">
        <div class="top"><div class="badge">‚ö°</div><h4>Fast Booking Flow</h4></div>
        <p>Quick check-in form, booking tracking via Booking Status, and clean UX for guests.</p>
      </div>

      <div class="cardx">
        <div class="top"><div class="badge">üîê</div><h4>Secure Accounts</h4></div>
        <p>Role-based access (admin/user), protected admin pages, and robust session handling.</p>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="section-title">Premium Services</div>
    <div class="grid">
      <div class="cardx">
        <div class="top"><div class="badge">üõèÔ∏è</div><h4>Comfort Rooms</h4></div>
        <p>Designed for rest and productivity, with a premium atmosphere across the stay.</p>
      </div>

      <div class="cardx">
        <div class="top"><div class="badge">üçΩÔ∏è</div><h4>Dining & Buffet</h4></div>
        <p>Signature BUFF-style service experience aligned with the brand identity.</p>
      </div>

      <div class="cardx">
        <div class="top"><div class="badge">üßæ</div><h4>Admin Management</h4></div>
        <p>Admins can manage bookings and users with a clean, premium interface.</p>
      </div>
    </div>
  </section>

</div>

<script>
  // Premium tilt on hero frame (desktop only)
  (function(){
    const frame = document.getElementById("tiltHero");
    if(!frame) return;
    if(!window.matchMedia("(min-width: 981px)").matches) return;

    frame.addEventListener("mousemove", (e) => {
      const r = frame.getBoundingClientRect();
      const x = (e.clientX - r.left) / r.width - 0.5;
      const y = (e.clientY - r.top) / r.height - 0.5;
      const rx = (-y * 3.5).toFixed(2);
      const ry = (x * 6).toFixed(2);
      frame.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
    });

    frame.addEventListener("mouseleave", () => {
      frame.style.transform = "rotateX(0deg) rotateY(0deg)";
    });
  })();
</script>
{% endblock %}
